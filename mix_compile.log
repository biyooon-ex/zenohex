Compiling 3 files (.ex)
Compiling crate zenohex_nif in release mode (native/zenohex_nif)
   Compiling zenohex_nif v0.3.2 (/Users/takasehideki/research/zenoh/zenohex/native/zenohex_nif)
error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:12:33
   |
12 |         let mut config = zenoh::prelude::config::peer();
   |                                 ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:25:39
   |
25 | impl From<ExConfigConnect> for zenoh::prelude::config::ConnectConfig {
   |                                       ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:35:33
   |
35 |         let mut config = zenoh::prelude::config::ConnectConfig::default();
   |                                 ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:47:40
   |
47 | impl From<ExConfigScouting> for zenoh::prelude::config::ScoutingConf {
   |                                        ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:49:33
   |
49 |         let mut config = zenoh::prelude::config::ScoutingConf::default();
   |                                 ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
  --> src/publisher.rs:24:38
   |
24 | fn publisher_put_impl<T: Into<zenoh::value::Value>>(
   |                                      ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
  --> src/publisher.rs:80:43
   |
80 | impl From<ExCongestionControl> for zenoh::publication::CongestionControl {
   |                                           ^^^^^^^^^^^ could not find `publication` in `zenoh`

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:100:34
    |
100 | impl From<ExPriority> for zenoh::publication::Priority {
    |                                  ^^^^^^^^^^^ could not find `publication` in `zenoh`

error[E0433]: failed to resolve: could not find `Mode` in `query`
   --> src/query.rs:121:56
    |
121 |             ExConsolidationMode::Auto => zenoh::query::Mode::Auto.into(),
    |                                                        ^^^^ could not find `Mode` in `query`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
  --> src/sample.rs:32:24
   |
32 |                 zenoh::value::Value::from(binary.as_slice())
   |                        ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
  --> src/sample.rs:38:24
   |
38 |                 zenoh::value::Value::from(sample.value.decode::<i64>().unwrap())
   |                        ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
  --> src/sample.rs:41:24
   |
41 |                 zenoh::value::Value::from(sample.value.decode::<f64>().unwrap())
   |                        ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/sample.rs:59:18
   |
59 | impl From<zenoh::prelude::SampleKind> for ExSampleKind {
   |                  ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/sample.rs:60:26
   |
60 |     fn from(kind: zenoh::prelude::SampleKind) -> Self {
   |                          ^^^^^^^ could not find `prelude` in `zenoh`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
  --> src/session.rs:89:36
   |
89 | fn session_put_impl<T: Into<zenoh::value::Value>>(
   |                                    ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `subscriber` in `zenoh`
  --> src/subscriber.rs:33:37
   |
33 | impl From<ExReliability> for zenoh::subscriber::Reliability {
   |                                     ^^^^^^^^^^ could not find `subscriber` in `zenoh`

error[E0433]: failed to resolve: could not find `subscriber` in `zenoh`
  --> src/subscriber.rs:36:49
   |
36 |             ExReliability::BestEffort => zenoh::subscriber::Reliability::BestEffort,
   |                                                 ^^^^^^^^^^ could not find `subscriber` in `zenoh`

error[E0433]: failed to resolve: could not find `subscriber` in `zenoh`
  --> src/subscriber.rs:37:47
   |
37 |             ExReliability::Reliable => zenoh::subscriber::Reliability::Reliable,
   |                                               ^^^^^^^^^^ could not find `subscriber` in `zenoh`

error[E0433]: failed to resolve: could not find `value` in `zenoh`
 --> src/value.rs:9:57
  |
9 |     pub(crate) fn from<'a>(env: Env<'a>, value: &zenoh::value::Value) -> Term<'a> {
  |                                                         ^^^^^ could not find `value` in `zenoh`

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:10:32
   |
10 | impl From<ExConfig> for zenoh::prelude::config::Config {
   |                                ^^^^^^^ could not find `prelude` in `zenoh`
   |
help: consider importing this module
   |
1  + use zenoh::config;
   |
help: if you import `config`, refer to it directly
   |
10 - impl From<ExConfig> for zenoh::prelude::config::Config {
10 + impl From<ExConfig> for config::Config {
   |

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/config.rs:31:24
   |
31 |                 zenoh::prelude::config::EndPoint::try_from(endpoint.clone())
   |                        ^^^^^^^ could not find `prelude` in `zenoh`
   |
help: consider importing this struct
   |
1  + use zenoh::config::EndPoint;
   |
help: if you import `EndPoint`, refer to it directly
   |
31 -                 zenoh::prelude::config::EndPoint::try_from(endpoint.clone())
31 +                 EndPoint::try_from(endpoint.clone())
   |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
  --> src/publisher.rs:83:49
   |
83 |             ExCongestionControl::Drop => zenoh::publication::CongestionControl::Drop,
   |                                                 ^^^^^^^^^^^ could not find `publication` in `zenoh`
   |
help: consider importing this enum
   |
1  + use zenoh::qos::CongestionControl;
   |
help: if you import `CongestionControl`, refer to it directly
   |
83 -             ExCongestionControl::Drop => zenoh::publication::CongestionControl::Drop,
83 +             ExCongestionControl::Drop => CongestionControl::Drop,
   |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
  --> src/publisher.rs:84:50
   |
84 |             ExCongestionControl::Block => zenoh::publication::CongestionControl::Block,
   |                                                  ^^^^^^^^^^^ could not find `publication` in `zenoh`
   |
help: consider importing this enum
   |
1  + use zenoh::qos::CongestionControl;
   |
help: if you import `CongestionControl`, refer to it directly
   |
84 -             ExCongestionControl::Block => zenoh::publication::CongestionControl::Block,
84 +             ExCongestionControl::Block => CongestionControl::Block,
   |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:103:44
    |
103 |             ExPriority::RealTime => zenoh::publication::Priority::RealTime,
    |                                            ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
103 -             ExPriority::RealTime => zenoh::publication::Priority::RealTime,
103 +             ExPriority::RealTime => Priority::RealTime,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:104:51
    |
104 |             ExPriority::InteractiveHigh => zenoh::publication::Priority::InteractiveHigh,
    |                                                   ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
104 -             ExPriority::InteractiveHigh => zenoh::publication::Priority::InteractiveHigh,
104 +             ExPriority::InteractiveHigh => Priority::InteractiveHigh,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:105:50
    |
105 |             ExPriority::InteractiveLow => zenoh::publication::Priority::InteractiveLow,
    |                                                  ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
105 -             ExPriority::InteractiveLow => zenoh::publication::Priority::InteractiveLow,
105 +             ExPriority::InteractiveLow => Priority::InteractiveLow,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:106:44
    |
106 |             ExPriority::DataHigh => zenoh::publication::Priority::DataHigh,
    |                                            ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
106 -             ExPriority::DataHigh => zenoh::publication::Priority::DataHigh,
106 +             ExPriority::DataHigh => Priority::DataHigh,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:107:40
    |
107 |             ExPriority::Data => zenoh::publication::Priority::Data,
    |                                        ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
107 -             ExPriority::Data => zenoh::publication::Priority::Data,
107 +             ExPriority::Data => Priority::Data,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:108:43
    |
108 |             ExPriority::DataLow => zenoh::publication::Priority::DataLow,
    |                                           ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
108 -             ExPriority::DataLow => zenoh::publication::Priority::DataLow,
108 +             ExPriority::DataLow => Priority::DataLow,
    |

error[E0433]: failed to resolve: could not find `publication` in `zenoh`
   --> src/publisher.rs:109:46
    |
109 |             ExPriority::Background => zenoh::publication::Priority::Background,
    |                                              ^^^^^^^^^^^ could not find `publication` in `zenoh`
    |
help: consider importing this enum
    |
1   + use zenoh::qos::Priority;
    |
help: if you import `Priority`, refer to it directly
    |
109 -             ExPriority::Background => zenoh::publication::Priority::Background,
109 +             ExPriority::Background => Priority::Background,
    |

error[E0433]: failed to resolve: could not find `queryable` in `zenoh`
  --> src/query.rs:17:48
   |
17 |     pub(crate) fn from(env: Env, query: zenoh::queryable::Query) -> ExQuery {
   |                                                ^^^^^^^^^ could not find `queryable` in `zenoh`
   |
help: consider importing this module
   |
1  + use crate::queryable;
   |
help: if you import `queryable`, refer to it directly
   |
17 -     pub(crate) fn from(env: Env, query: zenoh::queryable::Query) -> ExQuery {
17 +     pub(crate) fn from(env: Env, query: queryable::Query) -> ExQuery {
   |

error[E0433]: failed to resolve: could not find `queryable` in `zenoh`
  --> src/query.rs:36:37
   |
36 |     let lock: &RwLock<Option<zenoh::queryable::Query>> = &query.reference.0;
   |                                     ^^^^^^^^^ could not find `queryable` in `zenoh`
   |
help: consider importing this module
   |
1  + use crate::queryable;
   |
help: if you import `queryable`, refer to it directly
   |
36 -     let lock: &RwLock<Option<zenoh::queryable::Query>> = &query.reference.0;
36 +     let lock: &RwLock<Option<queryable::Query>> = &query.reference.0;
   |

error[E0433]: failed to resolve: could not find `queryable` in `zenoh`
  --> src/query.rs:41:24
   |
41 |     let query: &zenoh::queryable::Query = match &*guard {
   |                        ^^^^^^^^^ could not find `queryable` in `zenoh`
   |
help: consider importing this module
   |
1  + use crate::queryable;
   |
help: if you import `queryable`, refer to it directly
   |
41 -     let query: &zenoh::queryable::Query = match &*guard {
41 +     let query: &queryable::Query = match &*guard {
   |

error[E0433]: failed to resolve: could not find `queryable` in `zenoh`
  --> src/query.rs:64:37
   |
64 |     let lock: &RwLock<Option<zenoh::queryable::Query>> = &query.reference.0;
   |                                     ^^^^^^^^^ could not find `queryable` in `zenoh`
   |
help: consider importing this module
   |
1  + use crate::queryable;
   |
help: if you import `queryable`, refer to it directly
   |
64 -     let lock: &RwLock<Option<zenoh::queryable::Query>> = &query.reference.0;
64 +     let lock: &RwLock<Option<queryable::Query>> = &query.reference.0;
   |

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/sample.rs:62:20
   |
62 |             zenoh::prelude::SampleKind::Put => ExSampleKind::Put,
   |                    ^^^^^^^ could not find `prelude` in `zenoh`
   |
help: consider importing this enum
   |
1  + use zenoh::sample::SampleKind;
   |
help: if you import `SampleKind`, refer to it directly
   |
62 -             zenoh::prelude::SampleKind::Put => ExSampleKind::Put,
62 +             SampleKind::Put => ExSampleKind::Put,
   |

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/sample.rs:63:20
   |
63 |             zenoh::prelude::SampleKind::Delete => ExSampleKind::Delete,
   |                    ^^^^^^^ could not find `prelude` in `zenoh`
   |
help: consider importing this enum
   |
1  + use zenoh::sample::SampleKind;
   |
help: if you import `SampleKind`, refer to it directly
   |
63 -             zenoh::prelude::SampleKind::Delete => ExSampleKind::Delete,
63 +             SampleKind::Delete => ExSampleKind::Delete,
   |

error[E0433]: failed to resolve: could not find `prelude` in `zenoh`
  --> src/lib.rs:44:24
   |
44 |     let config: zenoh::prelude::config::Config = config.into();
   |                        ^^^^^^^ could not find `prelude` in `zenoh`
   |
help: consider importing this module
   |
1  + use zenoh::config;
   |
help: if you import `config`, refer to it directly
   |
44 -     let config: zenoh::prelude::config::Config = config.into();
44 +     let config: config::Config = config.into();
   |

warning: unused import: `bytes::ZBytes`
 --> src/publisher.rs:3:13
  |
3 | use zenoh::{bytes::ZBytes, pubsub::Publisher};
  |             ^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `bytes::ZBytes`
 --> src/session.rs:5:13
  |
5 | use zenoh::{bytes::ZBytes, query::Reply, session::Session};
  |             ^^^^^^^^^^^^^

error[E0107]: struct takes 0 lifetime arguments but 1 lifetime argument was supplied
   --> src/lib.rs:28:22
    |
28  | struct SubscriberRef(Subscriber<'static, Receiver<Sample>>);
    |                      ^^^^^^^^^^ ------- help: remove the lifetime argument
    |                      |
    |                      expected 0 lifetime arguments
    |
note: struct defined here, with 0 lifetime parameters
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/subscriber.rs:142:12
    |
142 | pub struct Subscriber<Handler> {
    |            ^^^^^^^^^^

error[E0107]: struct takes 0 lifetime arguments but 1 lifetime argument was supplied
   --> src/lib.rs:29:21
    |
29  | struct QueryableRef(Queryable<'static, Receiver<Query>>);
    |                     ^^^^^^^^^ ------- help: remove the lifetime argument
    |                     |
    |                     expected 0 lifetime arguments
    |
note: struct defined here, with 0 lifetime parameters
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/queryable.rs:420:12
    |
420 | pub struct Queryable<Handler> {
    |            ^^^^^^^^^

error[E0599]: no function or associated item named `from_str_uncheckend` found for struct `KeyExpr<'_>` in the current scope
   --> src/keyexpr.rs:5:39
    |
5   |     let key_expr1 = unsafe { KeyExpr::from_str_uncheckend(key_expr1) };
    |                                       ^^^^^^^^^^^^^^^^^^^ function or associated item not found in `KeyExpr<'_>`
    |
note: if you're trying to build a new `KeyExpr<'_>` consider using one of the following associated functions:
      KeyExpr::<'static>::from_string_unchecked
      KeyExpr::<'static>::from_boxed_str_unchecked
      KeyExpr::<'a>::new
      KeyExpr::<'a>::autocanonize
      KeyExpr::<'a>::from_str_unchecked
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/key_expr.rs:78:5
    |
78  |       pub unsafe fn from_string_unchecked(s: String) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
86  |       pub unsafe fn from_boxed_str_unchecked(s: Box<str>) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
99  | /     pub fn new<T, E>(t: T) -> Result<Self, E>
100 | |     where
101 | |         Self: TryFrom<T, Error = E>,
    | |____________________________________^
...
146 | /     pub fn autocanonize<T, E>(mut t: T) -> Result<Self, E>
147 | |     where
148 | |         Self: TryFrom<T, Error = E>,
149 | |         T: Canonize,
    | |____________________^
...
159 |       pub unsafe fn from_str_unchecked(s: &'a str) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: there is an associated function `from_str_unchecked` with a similar name
    |
5   |     let key_expr1 = unsafe { KeyExpr::from_str_unchecked(key_expr1) };
    |                                       ~~~~~~~~~~~~~~~~~~

error[E0599]: no function or associated item named `from_str_uncheckend` found for struct `KeyExpr<'_>` in the current scope
   --> src/keyexpr.rs:6:39
    |
6   |     let key_expr2 = unsafe { KeyExpr::from_str_uncheckend(key_expr2) };
    |                                       ^^^^^^^^^^^^^^^^^^^ function or associated item not found in `KeyExpr<'_>`
    |
note: if you're trying to build a new `KeyExpr<'_>` consider using one of the following associated functions:
      KeyExpr::<'static>::from_string_unchecked
      KeyExpr::<'static>::from_boxed_str_unchecked
      KeyExpr::<'a>::new
      KeyExpr::<'a>::autocanonize
      KeyExpr::<'a>::from_str_unchecked
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/key_expr.rs:78:5
    |
78  |       pub unsafe fn from_string_unchecked(s: String) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
86  |       pub unsafe fn from_boxed_str_unchecked(s: Box<str>) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
99  | /     pub fn new<T, E>(t: T) -> Result<Self, E>
100 | |     where
101 | |         Self: TryFrom<T, Error = E>,
    | |____________________________________^
...
146 | /     pub fn autocanonize<T, E>(mut t: T) -> Result<Self, E>
147 | |     where
148 | |         Self: TryFrom<T, Error = E>,
149 | |         T: Canonize,
    | |____________________^
...
159 |       pub unsafe fn from_str_unchecked(s: &'a str) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: there is an associated function `from_str_unchecked` with a similar name
    |
6   |     let key_expr2 = unsafe { KeyExpr::from_str_unchecked(key_expr2) };
    |                                       ~~~~~~~~~~~~~~~~~~

error[E0433]: failed to resolve: use of undeclared type `Value`
  --> src/publisher.rs:21:39
   |
21 |     publisher_put_impl(env, resource, Value::from(value.as_slice()))
   |                                       ^^^^^ use of undeclared type `Value`

error[E0277]: the trait bound `ZBytes: From<T>` is not satisfied
   --> src/publisher.rs:30:25
    |
30  |     match publisher.put(value).res_sync() {
    |                     --- ^^^^^ the trait `From<T>` is not implemented for `ZBytes`, which is required by `T: Into<ZBytes>`
    |                     |
    |                     required by a bound introduced by this call
    |
    = note: required for `T` to implement `Into<ZBytes>`
note: required by a bound in `Publisher::<'a>::put`
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/publisher.rs:185:21
    |
183 |     pub fn put<IntoZBytes>(&self, payload: IntoZBytes) -> PublisherPutBuilder<'_>
    |            --- required by a bound in this associated function
184 |     where
185 |         IntoZBytes: Into<ZBytes>,
    |                     ^^^^^^^^^^^^ required by this bound in `Publisher::<'a>::put`
help: consider introducing a `where` clause, but there might be an alternative better way to express this requirement
    |
28  | ) -> Term where ZBytes: From<T> {
    |           +++++++++++++++++++++

error[E0599]: no method named `res_sync` found for struct `PublicationBuilder` in the current scope
  --> src/publisher.rs:30:32
   |
30 |     match publisher.put(value).res_sync() {
   |                                ^^^^^^^^ method not found in `PublicationBuilder<&Publisher<'_>, PublicationBuilderPut>`

error[E0599]: no method named `res_sync` found for struct `PublicationBuilder` in the current scope
  --> src/publisher.rs:39:30
   |
39 |     match publisher.delete().res_sync() {
   |                              ^^^^^^^^ method not found in `PublicationBuilder<&Publisher<'_>, PublicationBuilderDelete>`

error[E0061]: this method takes 0 arguments but 1 argument was supplied
   --> src/publisher.rs:51:50
    |
51  |     let publisher: Publisher = publisher.clone().congestion_control(value.into());
    |                                                  ^^^^^^^^^^^^^^^^^^ ------------ unexpected argument
    |
note: method defined here
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/publisher.rs:153:12
    |
153 |     pub fn congestion_control(&self) -> CongestionControl {
    |            ^^^^^^^^^^^^^^^^^^
help: remove the extra argument
    |
51  -     let publisher: Publisher = publisher.clone().congestion_control(value.into());
51  +     let publisher: Publisher = publisher.clone().congestion_control();
    |

error[E0308]: mismatched types
  --> src/publisher.rs:51:32
   |
51 |     let publisher: Publisher = publisher.clone().congestion_control(value.into());
   |                    ---------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Publisher<'_>`, found `CongestionControl`
   |                    |
   |                    expected due to this

error[E0061]: this method takes 0 arguments but 1 argument was supplied
   --> src/publisher.rs:62:50
    |
62  |     let publisher: Publisher = publisher.clone().priority(value.into());
    |                                                  ^^^^^^^^ ------------ unexpected argument
    |
note: method defined here
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/publisher.rs:159:12
    |
159 |     pub fn priority(&self) -> Priority {
    |            ^^^^^^^^
help: remove the extra argument
    |
62  -     let publisher: Publisher = publisher.clone().priority(value.into());
62  +     let publisher: Publisher = publisher.clone().priority();
    |

error[E0308]: mismatched types
  --> src/publisher.rs:62:32
   |
62 |     let publisher: Publisher = publisher.clone().priority(value.into());
   |                    ---------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Publisher<'_>`, found `Priority`
   |                    |
   |                    expected due to this

error[E0107]: struct takes 0 lifetime arguments but 1 lifetime argument was supplied
   --> src/queryable.rs:15:21
    |
15  |     let queryable: &Queryable<'_, Receiver<Query>> = &resource.0;
    |                     ^^^^^^^^^ -- help: remove the lifetime argument
    |                     |
    |                     expected 0 lifetime arguments
    |
note: struct defined here, with 0 lifetime parameters
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/queryable.rs:420:12
    |
420 | pub struct Queryable<Handler> {
    |            ^^^^^^^^^

error[E0616]: field `key_expr` of struct `Sample` is private
  --> src/sample.rs:17:30
   |
17 |             key_expr: sample.key_expr.to_string(),
   |                              ^^^^^^^^ private field
   |
help: a method `key_expr` also exists, call it with parentheses
   |
17 |             key_expr: sample.key_expr().to_string(),
   |                                      ++

error[E0609]: no field `value` on type `Sample`
  --> src/sample.rs:18:61
   |
18 |             value: crate::value::ExValue::from(env, &sample.value),
   |                                                             ^^^^^ unknown field

error[E0616]: field `kind` of struct `Sample` is private
  --> src/sample.rs:19:26
   |
19 |             kind: sample.kind.into(),
   |                          ^^^^ private field
   |
help: a method `kind` also exists, call it with parentheses
   |
19 |             kind: sample.kind().into(),
   |                              ++

error[E0599]: no function or associated item named `new` found for struct `Sample` in the current scope
  --> src/sample.rs:49:32
   |
49 |         zenoh::sample::Sample::new(key_expr, value)
   |                                ^^^ function or associated item not found in `Sample`

error[E0277]: the trait bound `CongestionControl: From<ExCongestionControl>` is not satisfied
  --> src/session.rs:16:53
   |
16 |         .congestion_control(opts.congestion_control.into())
   |                                                     ^^^^ the trait `From<ExCongestionControl>` is not implemented for `CongestionControl`, which is required by `ExCongestionControl: Into<_>`
   |
   = note: required for `ExCongestionControl` to implement `Into<CongestionControl>`

error[E0277]: the trait bound `Priority: From<ExPriority>` is not satisfied
  --> src/session.rs:17:33
   |
17 |         .priority(opts.priority.into())
   |                                 ^^^^ the trait `From<ExPriority>` is not implemented for `Priority`, which is required by `ExPriority: Into<_>`
   |
   = note: required for `ExPriority` to implement `Into<Priority>`

error[E0599]: no method named `res_sync` found for struct `PublisherBuilder` in the current scope
  --> src/session.rs:18:10
   |
14 |       match session
   |  ___________-
15 | |         .declare_publisher(key_expr)
16 | |         .congestion_control(opts.congestion_control.into())
17 | |         .priority(opts.priority.into())
18 | |         .res_sync()
   | |         -^^^^^^^^ method not found in `PublisherBuilder<'_, '_>`
   | |_________|
   |

error[E0599]: no method named `reliability` found for struct `SubscriberBuilder` in the current scope
  --> src/session.rs:34:10
   |
32 |       match session
   |  ___________-
33 | |         .declare_subscriber(key_expr)
34 | |         .reliability(opts.reliability.into())
   | |         -^^^^^^^^^^^ method not found in `SubscriberBuilder<'_, '_, DefaultHandler>`
   | |_________|
   |

error[E0599]: no method named `res_sync` found for struct `QueryableBuilder` in the current scope
  --> src/session.rs:52:10
   |
49 |       match session
   |  ___________-
50 | |         .declare_queryable(key_expr)
51 | |         .complete(opts.complete)
52 | |         .res_sync()
   | |         -^^^^^^^^ method not found in `QueryableBuilder<'_, '_, DefaultHandler>`
   | |_________|
   |

error[E0433]: failed to resolve: use of undeclared type `Value`
  --> src/session.rs:86:47
   |
86 |     session_put_impl(env, resource, key_expr, Value::from(value.as_slice()))
   |                                               ^^^^^ use of undeclared type `Value`

error[E0277]: the trait bound `ZBytes: From<T>` is not satisfied
   --> src/session.rs:96:33
    |
96  |     match session.put(key_expr, value).res_sync() {
    |                   ---           ^^^^^ the trait `From<T>` is not implemented for `ZBytes`, which is required by `T: Into<ZBytes>`
    |                   |
    |                   required by a bound introduced by this call
    |
    = note: required for `T` to implement `Into<ZBytes>`
note: required by a bound in `Session::put`
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/session.rs:946:21
    |
938 |     pub fn put<'a, 'b: 'a, TryIntoKeyExpr, IntoZBytes>(
    |            --- required by a bound in this associated function
...
946 |         IntoZBytes: Into<ZBytes>,
    |                     ^^^^^^^^^^^^ required by this bound in `Session::put`
help: consider introducing a `where` clause, but there might be an alternative better way to express this requirement
    |
94  | ) -> Term where ZBytes: From<T> {
    |           +++++++++++++++++++++

error[E0599]: no method named `res_sync` found for struct `PublicationBuilder` in the current scope
  --> src/session.rs:96:40
   |
96 |     match session.put(key_expr, value).res_sync() {
   |                                        ^^^^^^^^ method not found in `PublicationBuilder<PublisherBuilder<'_, '_>, PublicationBuilderPut>`

error[E0599]: no method named `res_sync` found for struct `SessionGetBuilder` in the current scope
   --> src/session.rs:116:10
    |
112 |       match session
    |  ___________-
113 | |         .get(selector)
114 | |         .target(opts.target.into())
115 | |         .consolidation(opts.consolidation)
116 | |         .res_sync()
    | |         -^^^^^^^^ method not found in `SessionGetBuilder<'_, '_, DefaultHandler>`
    | |_________|
    |

error[E0609]: no field `sample` on type `Reply`
   --> src/session.rs:131:34
    |
131 |         Ok(reply) => match reply.sample {
    |                                  ^^^^^^ unknown field

error[E0599]: no method named `res_sync` found for struct `PublicationBuilder` in the current scope
   --> src/session.rs:143:36
    |
143 |     match session.delete(key_expr).res_sync() {
    |                                    ^^^^^^^^ method not found in `PublicationBuilder<PublisherBuilder<'_, '_>, PublicationBuilderDelete>`

error[E0107]: struct takes 0 lifetime arguments but 1 lifetime argument was supplied
   --> src/subscriber.rs:13:22
    |
13  |     let subscriber: &Subscriber<'_, Receiver<Sample>> = &resource.0;
    |                      ^^^^^^^^^^ -- help: remove the lifetime argument
    |                      |
    |                      expected 0 lifetime arguments
    |
note: struct defined here, with 0 lifetime parameters
   --> /Users/takasehideki/.cargo/registry/src/index.crates.io-6f17d22bba15001f/zenoh-1.0.0/src/api/subscriber.rs:142:12
    |
142 | pub struct Subscriber<Handler> {
    |            ^^^^^^^^^^

error[E0282]: type annotations needed
  --> src/value.rs:14:61
   |
14 |                     let mut binary = OwnedBinary::new(value.len()).unwrap();
   |                                                             ^^^ cannot infer type for type parameter `B` declared on the enum `Cow`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:47:13
   |
47 |             KnownEncoding::ImageGif => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:46:13
   |
46 |             KnownEncoding::ImagePng => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:11:13
   |
11 |             KnownEncoding::Empty => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:12:13
   |
12 |             KnownEncoding::AppOctetStream => match Cow::try_from(value) {
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:20:13
   |
20 |             KnownEncoding::AppCustom => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:21:13
   |
21 |             KnownEncoding::TextPlain => match String::try_from(value) {
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:25:13
   |
25 |             KnownEncoding::AppProperties => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:26:13
   |
26 |             KnownEncoding::AppJson => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:27:13
   |
27 |             KnownEncoding::AppSql => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:28:13
   |
28 |             KnownEncoding::AppInteger => match i64::try_from(value) {
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:32:13
   |
32 |             KnownEncoding::AppFloat => match f64::try_from(value) {
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:36:13
   |
36 |             KnownEncoding::AppXml => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:37:13
   |
37 |             KnownEncoding::AppXhtmlXml => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:38:13
   |
38 |             KnownEncoding::AppXWwwFormUrlencoded => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:39:13
   |
39 |             KnownEncoding::TextJson => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:40:13
   |
40 |             KnownEncoding::TextHtml => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:41:13
   |
41 |             KnownEncoding::TextXml => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:42:13
   |
42 |             KnownEncoding::TextCss => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:43:13
   |
43 |             KnownEncoding::TextCsv => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:44:13
   |
44 |             KnownEncoding::TextJavascript => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

error[E0433]: failed to resolve: use of undeclared type `KnownEncoding`
  --> src/value.rs:45:13
   |
45 |             KnownEncoding::ImageJpeg => unimplemented!(),
   |             ^^^^^^^^^^^^^ use of undeclared type `KnownEncoding`

Some errors have detailed explanations: E0061, E0107, E0277, E0282, E0308, E0433, E0599, E0609, E0616.
For more information about an error, try `rustc --explain E0061`.
warning: `zenohex_nif` (lib) generated 2 warnings
error: could not compile `zenohex_nif` (lib) due to 88 previous errors; 2 warnings emitted

== Compilation error in file lib/zenohex/nif.ex ==
** (RuntimeError) Rust NIF compile error (rustc exit code 101)
    (rustler 0.34.0) lib/rustler/compiler.ex:36: Rustler.Compiler.compile_crate/3
    lib/zenohex/nif.ex:8: (module)
